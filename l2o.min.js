(function(t,r){function e(){}function n(t){return t}function u(t,r){return t>r?1:r>t?-1:0}function o(t,r){return t===r}function i(t){return""+t}function f(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function s(t,e,n){e===r&&n===r&&(e=0,n=t.length-1);var u=e,o=n;if(n-e>=1){for(var i=t[e];o>u;){for(;0>=this.compareKeys(t[u],i)&&n>=u&&o>u;)u++;for(;this.compareKeys(t[o],i)>0&&o>=e&&o>=u;)o--;o>u&&f(t,u,o)}f(t,e,o),s.call(this,t,e,o-1),s.call(this,t,o+1,n)}}function a(t,r,e,n){this.keySelector=t,this.comparer=r,this.descending=e,this.next=n}var c="object"==typeof exports&&exports&&("object"==typeof global&&global&&global==global.global&&(t=global),exports),l={internals:{}},v="Sequence contains no elements.",m="Invalid operation",h=Array.prototype.slice,g={}.hasOwnProperty,p=l.internals.inherits=function(t,r){function e(){this.constructor=t}for(var n in r)"prototype"!==n&&g.call(r,n)&&(t[n]=r[n]);return e.prototype=r.prototype,t.prototype=new e,t.super_=r.prototype,t},y=l.Enumerator=function(t,r,e){this.moveNext=t,this.getCurrent=r,this.dispose=e},d=y.create=function(t,r,n){var u=!1;return n||(n=e),new y(function(){if(u)return!1;var r=t();return r||(u=!0,n()),r},function(){return r()},function(){u||(n(),u=!0)})},E=l.Enumerable=function(){function t(t){this.getEnumerator=t}function r(t,r,e){e||(e=n);var u=t,o=this.getEnumerator(),i=0;try{for(;o.moveNext();)u=r(u,o.getCurrent(),i++,this)}finally{o.dispose()}return e?e(u):u}function e(t){var r,e=this.getEnumerator(),n=0;try{if(!e.moveNext())throw Error(v);for(r=e.getCurrent();e.moveNext();)r=t(r,e.getCurrent(),n++,this)}finally{e.dispose()}return r}function u(t,r){r||(r=o);for(var e=this.length;e--;)if(r(this[e],t))return e;return-1}function f(t,r){var e=u.call(this,t,r);return-1===e?!1:(this.splice(e,1),!0)}var s=t.prototype;return s.aggregate=function(){var t=1===arguments.length?e:r;return t.apply(this,arguments)},s.reduce=function(){return 2===arguments.length?r.call(this,arguments[1],arguments[0]):e.apply(this,arguments)},s.all=s.every=function(t){var r=this.getEnumerator(),e=arguments[1];try{for(;r.moveNext();)if(!t(r.getCurrent(),e))return!1}finally{r.dispose()}return!0},s.any=s.some=function(t){var r=this.getEnumerator(),e=arguments[1];try{for(;r.moveNext();)if(!t||t(r.getCurrent(),e))return!0}finally{r.dispose()}return!1},s.average=function(t){if(t)return this.select(t).average();var r=this.getEnumerator(),e=0,n=0;try{for(;r.moveNext();)e++,n+=r.getCurrent()}finally{r.dispose()}if(0===e)throw Error(v);return n/e},s.concat=function(){var t=h.call(arguments,0);return t.unshift(this),x.apply(null,t)},s.contains=function(t,r){r||(r=o);var e=this.getEnumerator();try{for(;e.moveNext();)if(r(t,e.getCurrent()))return!0}finally{e.dispose()}return!1},s.count=function(t){var r=0,e=this.getEnumerator();try{for(;e.moveNext();)(!t||t(e.getCurrent()))&&r++}finally{e.dispose()}return r},s.defaultIfEmpty=function(r){var e=this;return new t(function(){var t,n,u=!0,o=!1;return d(function(){return n||(n=e.getEnumerator()),o?!1:u?(u=!1,n.moveNext()?(t=n.getCurrent(),!0):(t=r,o=!0,!0)):n.moveNext()?(t=n.getCurrent(),!0):!1},function(){return t},function(){n&&n.dispose()})})},s.distinct=function(r){r||(r=o);var e=this;return new t(function(){var t,n,o=[];return d(function(){for(n||(n=e.getEnumerator());;){if(!n.moveNext())return!1;if(t=n.getCurrent(),-1===u.call(o,t,r))return o.push(t),!0}},function(){return t},function(){n.dispose()})})},s.elementAt=function(t){return this.skip(t).first()},s.elementAtOrDefault=function(t){return this.skip(t).firstOrDefault()},s.except=function(r,e){e||(e=o);var n=this;return new t(function(){var t,o,i=[],f=n.getEnumerator();try{for(;f.moveNext();)i.push(f.getCurrent())}finally{f.dispose()}return d(function(){for(o||(o=r.getEnumerator());;){if(!o.moveNext())return!1;if(t=o.getCurrent(),-1===u.call(i,t,e))return i.push(t),!0}},function(){return t},function(){o&&o.dispose()})})},s.first=function(t){var r=this.getEnumerator();try{for(;r.moveNext();){var e=r.getCurrent();if(!t||t(e))return e}}finally{r.dispose()}throw Error(v)},s.firstOrDefault=function(t){var r=this.getEnumerator();try{for(;r.moveNext();){var e=r.getCurrent();if(!t||t(e))return e}}finally{r.dispose()}return null},s.forEach=function(t){var r=this.getEnumerator(),e=0;try{for(;r.moveNext();)t(r.getCurrent(),e++)}finally{r.dispose()}},s.groupBy=function(r,e,u,o){e||(e=n),o||(o=i);var f=this;return new t(function(){var t,n,i,s,a,c,l={},v=[],m=0,h=f.getEnumerator();try{for(;h.moveNext();)i=h.getCurrent(),s=r(i),a=o(s),l[a]||(l[a]=[],v.push(a)),c=e(i),l[a].push(c)}finally{h.dispose()}return d(function(){var r;return v.length>m?(n=v[m++],r=C(l[n]),u?t=u(n,r):(r.key=n,t=r),!0):!1},function(){return t})})},s.intersect=function(r,e){e||(e=o);var n=this;return new t(function(){var t,u,o=[],i=n.getEnumerator();try{for(;i.moveNext();)o.push(i.getCurrent())}finally{i.dispose()}return d(function(){for(u||(u=r.getEnumerator());;){if(!u.moveNext())return!1;if(t=u.getCurrent(),f.call(o,t,e))return!0}},function(){return t},function(){u&&u.dispose()})})},s.last=function(t){var r,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();(!t||t(u))&&(e=!0,r=u)}}finally{n.dispose()}if(e)return r;throw Error(v)},s.lastOrDefault=function(t){var r,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();(!t||t(u))&&(e=!0,r=u)}}finally{n.dispose()}return e?r:null},s.max=function(t){if(t)return this.select(t).max();var r,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();e?u>r&&(r=u):(r=u,e=!0)}}finally{n.dispose()}if(!e)throw Error(v);return r},s.min=function(t){if(t)return this.select(t).min();var r,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();e?r>u&&(r=u):(r=u,e=!0)}}finally{n.dispose()}if(!e)throw Error(v);return r},s.orderBy=function(t,r){return new w(this,t,r,!1)},s.orderByDescending=function(t,r){return new w(this,t,r,!0)},s.reverse=function(){var t=[],r=this.getEnumerator();try{for(;r.moveNext();)t.unshift(r.getCurrent())}finally{r.dispose()}return C(t)},s.select=function(r){var e=this;return new t(function(){var t,n,u=0;return d(function(){return n||(n=e.getEnumerator()),n.moveNext()?(t=r(n.getCurrent(),u++),!0):!1},function(){return t},function(){n.dispose()})})},s.selectMany=function(r,e){var n=this;return new t(function(){var t,u,o;return d(function(){for(u||(u=n.getEnumerator());;){if(!o){if(!u.moveNext())return!1;o=r(u.getCurrent()).getEnumerator()}if(o.moveNext()){if(t=o.getCurrent(),e){var i=u.getCurrent();t=e(i,t)}return!0}o.dispose(),o=null}},function(){return t},function(){o&&o.dispose(),u&&u.dispose()})})},t.sequenceEqual=function(t,r,e){return t.sequenceEqual(r,e)},s.sequenceEqual=function(t,r){r||(r=o);var e=this.getEnumerator(),n=t.getEnumerator();try{for(;e.moveNext();)if(!n.moveNext()||!r(e.getCurrent(),n.getCurrent()))return!1;return n.moveNext()?!1:!0}finally{e.dispose(),n.dispose()}},s.single=function(t){if(t)return this.where(t).single();var r=this.getEnumerator();try{for(;r.moveNext();){var e=r.getCurrent();if(r.moveNext())throw Error(m);return e}}finally{r.dispose()}throw Error(v)},s.singleOrDefault=function(t){if(t)return this.where(t).single();var r=this.getEnumerator();try{for(;r.moveNext();){var e=r.getCurrent();if(r.moveNext())throw Error(m);return e}}finally{r.dispose()}return null},s.skip=function(r){var e=this;return new t(function(){var t,n,u=!1;return d(function(){if(n||(n=e.getEnumerator()),!u){for(var o=0;r>o;o++)if(!n.moveNext())return!1;u=!0}return n.moveNext()?(t=n.getCurrent(),!0):!1},function(){return t},function(){n.dispose()})})},s.skipWhile=function(r){var e=this;return new t(function(){var t,n,u=!1;return d(function(){if(n||(n=e.getEnumerator()),!u){for(;;){if(!n.moveNext())return!1;if(!r(n.getCurrent()))return t=n.getCurrent(),!0}u=!0}return n.moveNext()?(t=n.getCurrent(),!0):!1},function(){return t},function(){n.dispose()})})},s.sum=function(t){if(t)return this.select(t).sum();var r=0,e=this.getEnumerator();try{for(;e.moveNext();)r+=e.getCurrent()}finally{e.dispose()}return r},s.take=function(r){var e=this;return new t(function(){var t,n,u=r;return d(function(){return n||(n=e.getEnumerator()),0===u?!1:n.moveNext()?(u--,t=n.getCurrent(),!0):(u=0,!1)},function(){return t},function(){n.dispose()})})},s.takeWhile=function(r){var e=this;return new t(function(){var t,n,u=0;return d(function(){return n||(n=e.getEnumerator()),n.moveNext()?(t=n.getCurrent(),r(t,u++)?!0:!1):!1},function(){return t},function(){n.dispose()})})},s.toArray=function(){var t=[],r=this.getEnumerator();try{for(;r.moveNext();)t.push(r.getCurrent());return t}finally{r.dispose()}},s.where=function(r){var e=this;return new t(function(){var t,n,u=0;return d(function(){for(n||(n=e.getEnumerator());;){if(!n.moveNext())return!1;if(t=n.getCurrent(),r(t,u++))return!0}},function(){return t},function(){n.dispose()})})},s.union=function(t,r){r||(r=o);var e=this;return N(function(){var n,o,i=[],f=!1,s=!1;return d(function(){for(;;){if(!o){if(s)return!1;f?(o=t.getEnumerator(),s=!0):(o=e.getEnumerator(),f=!0)}if(o.moveNext()){if(n=o.getCurrent(),-1===u.call(i,n,r))return i.push(n),!0}else o.dispose(),o=null}},function(){return n},function(){o&&o.dispose()})})},s.zip=function(r,e){var n=this;return new t(function(){var t,u,o;return d(function(){return t||u||(t=n.getEnumerator(),u=r.getEnumerator()),t.moveNext()&&u.moveNext()?(o=e(t.getCurrent(),u.getCurrent()),!0):!1},function(){return o},function(){t.dispose(),u.dispose()})})},t}(),x=E.concat=function(){return C(arguments).selectMany(n)},N=E.create=function(t){return new E(t)};E.empty=function(){return new E(function(){return d(function(){return!1},function(){throw Error(v)})})};var C=E.fromArray=function(t){return new E(function(){var r,e=0;return d(function(){return t.length>e?(r=t[e++],!0):!1},function(){return r})})};E.returnValue=function(t){return new E(function(){var r=!1;return d(function(){return r?!1:(r=!0,!0)},function(){return t})})},E.range=function(t,r){return new E(function(){var e=t-1,n=t+r-1;return d(function(){return n>e?(e++,!0):!1},function(){return e})})},E.repeat=function(t,r){return new E(function(){var e=null==r?-1:r,n=null!=r;return d(function(){return 0!==e?(n&&e--,!0):!1},function(){return t})})},a.prototype={computeKeys:function(t,r){this.keys=Array(r);for(var e=0;r>e;e++)this.keys[e]=this.keySelector(t[e]);this.next&&this.next.computeKeys(t,r)},compareKeys:function(t,r){var e=this.comparer(this.keys[t],this.keys[r]);return 0===e?this.next?this.next.compareKeys(t,r):t-r:this.descending?-e:e},sort:function(t,r){this.computeKeys(t,r);for(var e=Array(r),n=0;r>n;n++)e[n]=n;return s.call(this,e,0,r-1),e}};var w=function(){function t(t,r,e,o){this.source=t,this.keySelector=r||n,this.comparer=e||u,this.descending=o}p(t,E);var r=t.prototype;return r.getEnumerableSorter=function(t){var r=new a(this.keySelector,this.comparer,this.descending,t);return this.parent&&(r=this.parent.getEnumerableSorter(r)),r},r.createOrderedEnumerable=function(r,e,n){var u=new t(this.source,r,e,n);return u.parent=this,u},r.getEnumerator=function(){var t,r=this.source.toArray(),e=r.length,n=this.getEnumerableSorter(),u=n.sort(r,e),o=0;return d(function(){return e>o?(t=r[u[o++]],!0):!1},function(){return t})},r.thenBy=function(r,e){return new t(this,r,e,!1)},r.thenByDescending=function(r,e){return new t(this,r,e,!0)},t}();return"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t.Ix=l,define(function(){return l})):(c?"object"==typeof module&&module&&module.exports==c?module.exports=l:c=l:t.Ix=l,r)})(this);