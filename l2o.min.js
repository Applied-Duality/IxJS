(function(r,t){function e(){}function n(r){return r}function u(r,t){return r>t?1:t>r?-1:0}function o(r,t){return r===t}function i(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}function f(r,e,n){e===t&&n===t&&(e=0,n=r.length-1);var u=e,o=n;if(n-e>=1){for(var s=r[e];o>u;){for(;0>=this.compareKeys(r[u],s)&&n>=u&&o>u;)u++;for(;this.compareKeys(r[o],s)>0&&o>=e&&o>=u;)o--;o>u&&i(r,u,o)}i(r,e,o),f.call(this,r,e,o-1),f.call(this,r,o+1,n)}}function s(r,t,e,n){this.keySelector=r,this.comparer=t,this.descending=e,this.next=n}var a="object"==typeof exports&&exports&&("object"==typeof global&&global&&global==global.global&&(r=global),exports),c={internals:{}},l="Sequence contains no elements.",v=Array.prototype.slice,m={}.hasOwnProperty,h=c.internals.inherits=function(r,t){function e(){this.constructor=r}for(var n in t)"prototype"!==n&&m.call(t,n)&&(r[n]=t[n]);return e.prototype=t.prototype,r.prototype=new e,r.super_=t.prototype,r},g=c.Enumerator=function(r,t,e){this.moveNext=r,this.getCurrent=t,this.dispose=e},p=g.create=function(r,t,n){var u=!1;return n||(n=e),new g(function(){if(u)return!1;var t=r();return t||(u=!0,n()),t},function(){return t()},function(){u||(n(),u=!0)})},y=c.Enumerable=function(){function r(r){this.getEnumerator=r}function t(r,t,e){e||(e=n);var u=r,o=this.getEnumerator();try{for(;o.moveNext();)u=t(u,o.getCurrent())}finally{o.dispose()}return e?e(u):u}function e(r){var t,e=this.getEnumerator();try{if(!e.moveNext())throw Error(l);for(t=e.getCurrent();e.moveNext();)t=r(t,e.getCurrent())}finally{e.dispose()}return t}function i(r,t){t||(t=u);for(var e=this.length;e--;)if(t(this[e],r))return e;return-1}function f(r,t){var e=i.call(this,r,t);return-1===e?!1:(this.splice(e,1),!0)}var s=r.prototype;return s.aggregate=function(){var r=1===arguments.length?e:t;return r.apply(this,arguments)},s.all=function(r){var t=this.getEnumerator();try{for(;t.moveNext();)if(!r(t.getCurrent()))return!1}finally{t.dispose()}return!0},s.any=function(r){var t=this.getEnumerator();try{for(;t.moveNext();)if(!r||r(t.getCurrent()))return!0}finally{t.dispose()}return!1},s.average=function(r){if(r)return this.select(r).average();var t=this.getEnumerator(),e=0,n=0;try{for(;t.moveNext();)e++,n+=t.getCurrent()}finally{t.dispose()}if(0===e)throw Error(l);return n/e},s.concat=function(){var r=v.call(arguments,0);return r.unshift(this),d.apply(null,r)},s.contains=function(r,t){t||(t=o);var e=this.getEnumerator();try{for(;e.moveNext();)if(t(r,e.getCurrent()))return!0}finally{e.dispose()}return!1},s.count=function(r){var t=0,e=this.getEnumerator();try{for(;e.moveNext();)(!r||r(e.getCurrent()))&&t++}finally{e.dispose()}return t},s.defaultIfEmpty=function(t){var e=this;return new r(function(){var r,n,u=!1;return p(function(){return n||(n=e.getEnumerator()),n.moveNext()?(u=!0,r=n.getCurrent(),!0):!1},function(){return u?r:t},function(){n.dispose()})})},s.distinct=function(t){t||(t=o);var e=this;return r(function(){var r,n,u=[];return p(function(){for(n||(n=e.getEnumerator());;){if(!n.moveNext())return!1;if(r=n.getCurrent(),-1===i.call(u,r,t))return u.push(r),!0}},function(){return r},function(){n.dispose()})})},s.elementAt=function(r){return this.skip(r).first()},s.elementAtOrDefault=function(r){return this.skip(r).firstOrDefault()},s.except=function(t,e){e||(e=o);var n=this;return new r(function(){for(var r,u,o=[],f=n.getEnumerator();f.moveNext();)o.push(f.getCurrent());return p(function(){for(u||(u=t.getEnumerator());;){if(!u.moveNext())return!1;if(r=u.getCurrent(),-1===i.call(o,r,e))return o.push(r),!0}},function(){return r},function(){enumerator.dispose()})})},s.first=function(r){var t=this.getEnumerator();try{for(;t.moveNext();){var e=t.getCurrent();if(!r||r(e))return e}}finally{t.dispose()}throw Error(l)},s.firstOrDefault=function(r){var t=this.getEnumerator();try{for(;t.moveNext();){var e=t.getCurrent();if(!r||r(e))return e}}finally{t.dispose()}return null},s.forEach=function(r){var t=this.getEnumerator(),e=0;try{for(;t.moveNext();)r(t.getCurrent(),e++)}finally{t.dispose()}},s.groupBy=function(t,e,u,o){e||(e=n),o||(o=defaultSerializer);var i=this;return new r(function(){for(var r,n,f,s,a,c,l={},v=[],m=0,h=i.getEnumerator();h.moveNext();)f=h.getCurrent(),s=t(f),a=o(s),l[a]||(l[a]=[],v.push(a)),c=e(f),l[a].push(c);return p(function(){var t;return v.length>m?(n=v[m++],t=x(l[n]),u?r=u(n,t):(t.key=n,r=t),!0):!1},function(){return r})})},s.intersect=function(t,e){e||(e=o);var n=this;return new r(function(){for(var r,u,o=[],i=n.getEnumerator();i.moveNext();)o.push(i.getCurrent());return p(function(){for(u||(u=t.getEnumerator());;){if(!u.moveNext())return!1;if(r=u.getCurrent(),f.call(o,r,e))return!0}},function(){return r},function(){enumerator.dispose()})})},s.last=function(r){var t,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();(!r||r(u))&&(e=!0,t=u)}}finally{n.dispose()}if(e)return t;throw Error(l)},s.lastOrDefault=function(r){var t,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();(!r||r(u))&&(e=!0,t=u)}}finally{n.dispose()}return e?t:null},s.max=function(r){if(r)return this.select(r).max();var t,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();e?u>t&&(t=u):(t=u,e=!0)}}finally{n.dispose()}if(!e)throw Error(l);return t},s.min=function(r){if(r)return this.select(r).min();var t,e=!1,n=this.getEnumerator();try{for(;n.moveNext();){var u=n.getCurrent();e?t>u&&(t=u):(t=u,e=!0)}}finally{n.dispose()}if(!e)throw Error(l);return t},s.orderBy=function(r,t){return new N(this,r,t,!1)},s.orderByDescending=function(r,t){return new N(this,r,t,!0)},s.reverse=function(){var r=[],t=this.getEnumerator();try{for(;t.moveNext();)r.unshift(t.getCurrent())}finally{t.dispose()}return x(r)},s.select=function(t){var e=this;return new r(function(){var r,n,u=0;return p(function(){return n||(n=e.getEnumerator()),n.moveNext()?(r=t(n.getCurrent(),u++),!0):!1},function(){return r},function(){n.dispose()})})},s.selectMany=function(t,e){var n=this;return new r(function(){var r,u,o;return p(function(){for(u||(u=n.getEnumerator());;){if(!o){if(!u.moveNext())return!1;o=t(u.getCurrent()).getEnumerator()}if(o.moveNext()){if(r=o.getCurrent(),e){var i=u.getCurrent();r=e(i,r)}return!0}o.dispose(),o=null}},function(){return r},function(){o&&o.dispose(),u.dispose()})})},r.sequenceEqual=function(r,t,e){return r.sequenceEqual(t,e)},s.sequenceEqual=function(r,t){t||(t=o);var e=this.getEnumerator(),n=r.getEnumerator();try{for(;e.moveNext();)if(!n.moveNext()||!t(e.getCurrent(),n.getCurrent()))return!1;return n.moveNext()?!1:!0}finally{e.dispose(),n.dispose()}},s.single=function(r){if(r)return this.where(r).single();var t=this.getEnumerator();try{for(;t.moveNext();){var e=t.getCurrent();if(t.moveNext())throw Error(invalidOperation);return e}}finally{t.dispose()}throw Error(l)},s.singleOrDefault=function(r){if(r)return this.where(r).single();var t=this.getEnumerator();try{for(;t.moveNext();){var e=t.getCurrent();if(t.moveNext())throw Error(invalidOperation);return e}}finally{t.dispose()}return null},s.skip=function(t){var e=this;return new r(function(){var r,n,u=!1;return p(function(){if(n||(n=e.getEnumerator()),!u){for(var o=0;t>o;o++)if(!n.moveNext())return!1;u=!0}return n.moveNext()?(r=n.getCurrent(),!0):!1},function(){return r},function(){n.dispose()})})},s.skipWhile=function(t){var e=this;return new r(function(){var r,n,u=!1;return p(function(){if(n||(n=e.getEnumerator()),!u){for(;;){if(!n.moveNext())return!1;if(!t(n.getCurrent()))return r=n.getCurrent(),!0}u=!0}return n.moveNext()?(r=n.getCurrent(),!0):!1},function(){return r},function(){n.dispose()})})},s.sum=function(r){if(r)return this.select(r).sum();var t=0,e=this.getEnumerator();try{for(;e.moveNext();)t+=e.getCurrent()}finally{e.dispose()}return t},s.take=function(t){var e=this;return new r(function(){var r,n,u=t;return p(function(){return n||(n=e.getEnumerator()),0===u?!1:n.moveNext()?(u--,r=n.getCurrent(),!0):(u=0,!1)},function(){return r},function(){n.dispose()})})},s.takeWhile=function(t){var e=this;return new r(function(){var r,n,u=0;return p(function(){return n||(n=e.getEnumerator()),n.moveNext()?(r=n.getCurrent(),t(r,u++)?!0:!1):!1},function(){return r},function(){n.dispose()})})},s.toArray=function(){var r=[],t=this.getEnumerator();try{for(;t.moveNext();)r.push(t.getCurrent());return r}finally{t.dispose()}},s.where=function(t){var e=this;return new r(function(){var r,n,u=0;return p(function(){for(n||(n=e.getEnumerator());;){if(!n.moveNext())return!1;if(r=n.getCurrent(),t(r,u++))return!0}},function(){return r},function(){n.dispose()})})},s.union=function(r,t){t||(t=o);var e=this;return E(function(){var n,u,o=[],f=!1,s=!1;return p(function(){for(;;){if(!u){if(s)return!1;f?(u=r.getEnumerator(),s=!0):(u=e.getEnumerator(),f=!0)}if(u.moveNext()){if(n=u.getCurrent(),-1===i.call(o,n,t))return o.push(n),!0}else u.dispose(),u=null}},function(){return n},function(){u&&u.dispose()})})},s.zip=function(t,e){var n=this;return new r(function(){var r,u,o;return p(function(){return r||u||(r=n.getEnumerator(),u=t.getEnumerator()),r.moveNext()&&u.moveNext()?(o=e(r.getCurrent(),u.getCurrent()),!0):!1},function(){return o},function(){r.dispose(),u.dispose()})})},r}(),d=y.concat=function(){return x(arguments).selectMany(n)},E=y.create=function(r){return new y(r)};y.empty=function(){return new y(function(){return p(function(){return!1},function(){throw Error(l)})})};var x=y.fromArray=function(r){return new y(function(){var t,e=0;return p(function(){return r.length>e?(t=r[e++],!0):!1},function(){return t})})};y.returnValue=function(r){return new y(function(){var t=!1;return p(function(){return t?!1:(t=!0,!0)},function(){return r})})},y.range=function(r,t){return new y(function(){var e=r-1,n=r+t-1;return p(function(){return n>e?(e++,!0):!1},function(){return e})})},y.repeat=function(r,e){return new y(function(){var n=e;return n===t&&(n=-1),p(function(){return 0!==n?(n--,!0):!1},function(){return r})})},s.prototype={computeKeys:function(r,t){this.keys=Array(t);for(var e=0;t>e;e++)this.keys[e]=this.keySelector(r[e]);this.next&&this.next.computeKeys(r,t)},compareKeys:function(r,t){var e=this.comparer(this.keys[r],this.keys[t]);return 0===e?this.next?this.next.compareKeys(r,t):r-t:this.descending?-e:e},sort:function(r,t){this.computeKeys(r,t);for(var e=Array(t),n=0;t>n;n++)e[n]=n;return f.call(this,e,0,t-1),e}};var N=function(){function r(r,t,e,o){this.source=r,this.keySelector=t||n,this.comparer=e||u,this.descending=o}h(r,y);var t=r.prototype;return t.getEnumerableSorter=function(r){var t=new s(this.keySelector,this.comparer,this.descending,r);return this.parent&&(t=this.parent.getEnumerableSorter(t)),t},t.createOrderedEnumerable=function(t,e,n){var u=new r(this.source,t,e,n);return u.parent=this,u},t.getEnumerator=function(){var r,t=this.source.toArray(),e=t.length,n=this.getEnumerableSorter(),u=n.sort(t,e),o=0;return p(function(){return e>o?(r=t[u[o++]],!0):!1},function(){return r})},t.thenBy=function(t,e){return new r(this,t,e,!1)},t.thenByDescending=function(t,e){return new r(this,t,e,!0)},r}();return"function"==typeof define&&"object"==typeof define.amd&&define.amd?(r.Ix=c,define(function(){return c})):(a?"object"==typeof module&&module&&module.exports==a?module.exports=c:a=c:r.Ix=c,t)})(this);